# MCP連携セットアップ - ステップバイステップガイド

## 🎯 このガイドの目的

**私（AI）ができないこと:** GitHubやGoogle Cloud Consoleへのログイン、認証情報の取得  
**あなたがやること:** 以下の手順で認証情報を取得して、私が準備した設定ファイルに貼り付けるだけ

---

## 📋 全体の流れ

```
1. GitHub PAT取得（5分）
   ↓
2. GitHub MCP設定ファイルに貼り付け（私が自動化）
   ↓
3. Google Drive API認証情報取得（10-15分）
   ↓
4. Google Drive MCP設定ファイルに貼り付け（私が自動化）
   ↓
5. Cursor再起動
   ↓
6. 動作確認
```

---

## 🔴 PART 1: GitHub MCP連携（必須ではないが推奨）

### あなたがやること（約5分）

#### STEP 1: GitHubにログイン
1. ブラウザで https://github.com にアクセス
2. `OkayamaYoshiki0602-maker` でログイン

#### STEP 2: Personal Access Token (PAT) を取得

1. **右上のプロフィールアイコンをクリック**
   - 画面右上の円形のアイコン（プロフィール画像）をクリック

2. **Settings をクリック**
   - ドロップダウンメニューから `Settings` を選択

3. **左メニューの一番下までスクロール**
   - 左側のメニューを下にスクロールしていく
   - 画面の一番下の方に `Developer settings` という項目がある

4. **Developer settings をクリック**
   - 左メニューの一番下の方にある `Developer settings` をクリック

5. **Personal access tokens → Tokens (classic) をクリック**
   - 左メニューに `Personal access tokens` という項目がある
   - その中から `Tokens (classic)` をクリック

6. **Generate new token → Generate new token (classic) をクリック**
   - 画面右上または上部に `Generate new token` というボタンがある
   - ドロップダウンから `Generate new token (classic)` を選択

7. **Note（メモ）を入力**
   - `Note` 欄に「Cursor MCP Integration」と入力
   - これは後で何のトークンか分かるためのメモです

8. **Expiration（有効期限）を選択**
   - ドロップダウンから選ぶ（90日、1年、無期限など）
   - お好みで選んでください（1年推奨）

9. **Select scopes（スコープ）を選択**
   - チェックボックスが並んでいる部分を探す
   - 以下にチェックを入れる：
     - ✅ `repo` - この項目を展開して、すべてのサブ項目にチェック
     - ✅ `read:org` - 組織情報の読み取り（将来使う可能性があるため）

10. **画面を一番下までスクロール**
    - `Generate token` という緑色のボタンがある

11. **Generate token をクリック**
    - 緑色のボタンをクリック

12. **トークンをコピー（重要！）**
    - 画面に `ghp_` で始まる長い文字列が表示される
    - **この文字列をすべてコピーしてください**（例: `ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`）
    - **一度しか表示されません！** 画面を閉じると二度と見れません
    - メモ帳に一時的に保存するか、すぐに私に教えてください

#### STEP 3: 私にトークンを教える
- コピーしたトークン（`ghp_` で始まる文字列）を私に教えてください
- 私は自動的に設定ファイルに追加します

---

### 私が自動でやること

1. ✅ CursorのMCP設定ファイルを確認・作成
2. ✅ GitHub MCP設定を追加
3. ✅ 設定ファイルを保存
4. ✅ 動作確認方法を案内

---

## 🟡 PART 2: Google Drive MCP連携（STEP 2実装前に必須）

### あなたがやること（約10-15分）

#### STEP 1: Google Cloud Consoleにアクセス

1. **ブラウザで https://console.cloud.google.com にアクセス**
2. **Googleアカウントでログイン**
   - 普段使っているGoogleアカウントでログインしてください

#### STEP 2: プロジェクトを作成

1. **画面上部のプロジェクト選択をクリック**
   - 画面の一番上、中央あたりに「プロジェクトを選択」というボタンがある

2. **「新しいプロジェクト」をクリック**
   - ポップアップウィンドウが開く
   - 右上に「新しいプロジェクト」というボタンがある

3. **プロジェクト情報を入力**
   - **プロジェクト名:** `cbd-side-business`（任意の名前でOK）
   - **組織:** なし（個人の場合はそのままでOK）
   - **場所:** なし（そのままでOK）

4. **作成をクリック**
   - 画面下部の「作成」ボタンをクリック
   - プロジェクト作成まで1-2分かかります
   - 完了すると画面が自動的にそのプロジェクトに切り替わります

#### STEP 3: Google Drive APIを有効化

1. **左メニューの「APIとサービス」をクリック**
   - 左側のメニュー（ハンバーガーメニュー）を開く
   - 「APIとサービス」をクリック

2. **「ライブラリ」をクリック**
   - 左メニューの中に「ライブラリ」という項目がある

3. **「Google Drive API」を検索**
   - 検索ボックスに「Google Drive API」と入力
   - 検索結果から「Google Drive API」を選択

4. **「有効にする」をクリック**
   - 画面中央に「有効にする」というボタンがある
   - クリックすると、APIが有効になります

#### STEP 4: 認証情報（JSON）を取得

1. **左メニューの「APIとサービス」→「認証情報」をクリック**
   - 左メニューから「認証情報」を選択

2. **「認証情報を作成」をクリック**
   - 画面上部に「認証情報を作成」というボタンがある

3. **「サービスアカウント」を選択**
   - ドロップダウンメニューから「サービスアカウント」を選択

4. **サービスアカウント情報を入力**
   - **サービスアカウント名:** `cursor-mcp`（任意の名前でOK）
   - **サービスアカウントID:** 自動生成される（そのままでOK）
   - **説明:** `Cursor MCP Integration for Google Drive`（任意）

5. **「作成して続行」をクリック**
   - 画面下部の「作成して続行」ボタンをクリック

6. **ロールを選択（スキップ可能）**
   - 「このサービスアカウントにロールを付与しますか？」と聞かれる
   - **「続行」をクリックしてスキップ**（今回は不要）

7. **「完了」をクリック**
   - 「ユーザーへのアクセス権の付与（オプション）」もスキップして「完了」をクリック

8. **作成したサービスアカウントをクリック**
   - 認証情報一覧に、さっき作成したサービスアカウントが表示される
   - メールアドレス（例: `cursor-mcp@cbd-side-business.iam.gserviceaccount.com`）をクリック

9. **「キー」タブをクリック**
   - サービスアカウントの詳細画面が開く
   - 上部に「キー」というタブがある

10. **「キーを追加」→「新しいキーを作成」をクリック**
    - 「キーを追加」ボタンをクリック
    - ドロップダウンから「新しいキーを作成」を選択

11. **「JSON」を選択して「作成」をクリック**
    - ポップアップが開く
    - 「キーのタイプ」で「JSON」を選択
    - 「作成」をクリック

12. **JSONファイルが自動的にダウンロードされる**
    - ブラウザのダウンロードフォルダにJSONファイルが保存される
    - ファイル名は `cbd-side-business-xxxxx-xxxxxxxxxxxx.json` のような形式
    - **このファイルを大切に保管してください！**

#### STEP 5: JSONファイルを配置場所に移動

**方法A: Finderで移動（簡単）**

1. **Finderを開く**
2. **ダウンロードフォルダを開く**
3. **ダウンロードしたJSONファイルを見つける**
   - ファイル名は `cbd-side-business-xxxxx-xxxxxxxxxxxx.json` のような形式
4. **以下のパスに移動:**
   - フォルダ: `~/.config/cursor`（`/Users/okayamayoshiki/.config/cursor`）
   - ファイル名を `google-drive-credentials.json` にリネーム
   - （Finderで「option + command + G」を押して、パスを直接入力できる）

**方法B: ターミナルで移動（コマンド実行）**

以下のコマンドを実行してください（ファイル名は実際のファイル名に置き換えてください）：

```bash
# ダウンロードフォルダのJSONファイルを確認
ls ~/Downloads/*.json

# ファイルを移動してリネーム（ファイル名は実際のものに置き換える）
mv ~/Downloads/cbd-side-business-xxxxx-xxxxxxxxxxxx.json ~/.config/cursor/google-drive-credentials.json
```

#### STEP 6: Google Driveのスプレッドシートを共有（今後使う時に必要）

今後、Google Driveのスプレッドシートを使う時に必要です：

1. **Google Driveでスプレッドシートを開く**
2. **右上の「共有」ボタンをクリック**
3. **サービスアカウントのメールアドレスを追加**
   - さっき作成したサービスアカウントのメールアドレス（例: `cursor-mcp@cbd-side-business.iam.gserviceaccount.com`）を入力
4. **権限を選択**
   - 「閲覧者」または「編集者」を選択
5. **「送信」をクリック**

#### STEP 7: 私に確認してもらう

1. JSONファイルが正しく配置されているか確認
2. 私が自動的にMCP設定ファイルに追加します

---

### 私が自動でやること

1. ✅ JSONファイルの配置を確認
2. ✅ Google Drive MCP設定を追加
3. ✅ 設定ファイルを保存
4. ✅ 動作確認方法を案内

---

## 🟢 PART 3: Cursor再起動と動作確認

### あなたがやること

1. **Cursorを完全に終了**
   - `Cmd + Q` でCursorを完全に終了

2. **Cursorを再起動**

3. **動作確認**
   - Cursorを再起動後、私が動作確認の方法を案内します

---

## 📝 チェックリスト

### GitHub MCP連携
- [ ] GitHubにログイン
- [ ] Personal Access Token (PAT) を取得
- [ ] トークンをコピーして私に教える
- [ ] 私が設定ファイルに追加するのを待つ

### Google Drive MCP連携
- [ ] Google Cloud Consoleにアクセス
- [ ] プロジェクトを作成
- [ ] Google Drive APIを有効化
- [ ] サービスアカウントを作成
- [ ] JSONファイルをダウンロード
- [ ] JSONファイルを `~/.config/cursor/google-drive-credentials.json` に配置
- [ ] 私が設定ファイルに追加するのを待つ

### 最終確認
- [ ] Cursorを再起動
- [ ] 動作確認（私が案内します）

---

## ❓ よくある質問

### Q: GitHub MCP連携は必須ですか？
A: 必須ではありませんが、コード管理が便利になります。後からでも設定可能です。

### Q: Google Drive MCP連携は必須ですか？
A: STEP 2（自動記事生成）の実装前に必須です。今すぐでなくてもOKですが、実装前に設定しておくことを推奨します。

### Q: 認証情報は安全ですか？
A: はい。認証情報はローカルのみに保存され、GitHubには絶対にプッシュされません（`.gitignore`で除外済み）。

### Q: トークンやJSONファイルをなくしたら？
A: GitHub PATは再生成可能です。Google Drive JSONは再生成が必要です（同じ手順で再度作成可能）。

---

## 🚀 まずはどこから始める？

**推奨順序:**
1. **GitHub MCP連携**（5分）- 簡単なのでまずはこちらから
2. **Google Drive MCP連携**（10-15分）- STEP 2実装前に必須

**または:**
- 今すぐ使わないなら、後回しでもOK
- 診断ツール実装（STEP 1）から始めることも可能

---

## 💡 困ったら

1. スクリーンショットを共有してもらえれば、具体的に案内できます
2. エラーメッセージがあれば、それを教えてください
3. 手順が分からない箇所があれば、具体的に聞いてください

---

**準備ができたら、まずはGitHub PATの取得から始めましょう！**
