# 動画アフィリエイトTwitterアカウント クイックスタートガイド

## 🎯 質問への回答

### Q1: 同じAPI IDで動画・漫画両方のアカウントを使えるか？

**A: はい、同じAPI IDとアフィリエイトIDを使用できます** ✅

- API IDは「開発者」単位で発行される
- 1つのAPI IDで複数のサイト/アカウントを運営可能
- ただし、各サイトは「サイト追加申請」で別々に登録が必要

**運用イメージ**:
```
API ID: [1つ] → 動画アカウント (@otonasan_review)
              → 漫画アカウント (@[漫画アカウント名])
```

---

## 📋 動画アフィリエイトツイートの流れ

### 完全なフロー（5ステップ）

```
┌─────────────────────────────────────────────────┐
│ ステップ1: 商品検索                              │
│ DMM API → 「新作AV」で検索 → 商品リスト取得      │
└─────────────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────────────┐
│ ステップ2: 商品情報取得                          │
│ content_id → 詳細情報取得                        │
│ - タイトル、女優、発売日、画像URL、アフィリンク  │
└─────────────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────────────┐
│ ステップ3: 画像ダウンロード                      │
│ サンプル画像URL → ローカルに保存                 │
│ 保存先: ./temp_images/d_715045.jpg              │
└─────────────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────────────┐
│ ステップ4: ツイート文案生成                      │
│ 商品情報 → テンプレート適用                      │
│ ↓                                                │
│ 【作品タイトル】                                 │
│ 女優: ○○みく                                    │
│ 発売日: 2025/02/01                              │
│ 詳細・購入⇩                                      │
│ [アフィリエイトリンク]                           │
│ #AV #エロ動画 #R18 🔞                           │
└─────────────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────────────┐
│ ステップ5: Twitter投稿                           │
│ 画像アップロード → メディアID取得                │
│ ツイート投稿（テキスト + メディアID）            │
│ → 投稿完了！                                     │
└─────────────────────────────────────────────────┘
```

---

## 🛠️ 必要な準備（申請承認までの2日間）

### 今日やること（Day 1）

#### ✅ 1. Twitterアカウント設定（15分）

**@otonasan_review の設定**:

- **表示名**: `新作AV情報🔞 | 18歳未満閲覧禁止`
- **プロフィール説明**: 
  ```
  🔞 18歳未満の方の閲覧・フォローはご遠慮ください
  
  📹 新作AV情報を発信
  💬 人気作品・おすすめ作品を紹介
  🎯 最新情報をいち早くお届け
  
  #AV #エロ動画 #R18
  
  ※アフィリエイトリンクを含みます
  ```

#### ✅ 2. Twitter API認証情報確認（10分）

`.env`ファイルを確認:
```bash
X_API_KEY=...
X_API_SECRET_KEY=...
X_ACCESS_TOKEN=...
X_ACCESS_TOKEN_SECRET=...
X_BEARER_TOKEN=...
```

#### ✅ 3. ライブラリインストール（2分）

```bash
cd automation
pip install dmm-search3
```

#### ✅ 4. ディレクトリ準備（1分）

```bash
mkdir -p temp_images dmm_images logs
```

#### ✅ 5. 商品リスト準備（10分）

Googleスプレッドシート作成:
- スプレッドシート名: `動画アフィリエイト投稿管理`
- 列: content_id, title, 女優, 発売日, ジャンル, 投稿予定日, ステータス

---

### 明日やること（Day 2）

#### ✅ 6. ツイートテンプレート設計（30分）

3種類以上のテンプレートを作成

#### ✅ 7. スケジュール設計（30分）

投稿時間を決定（平日2回、休日3回など）

#### ✅ 8. 漫画アカウント名決定（10分）

次に作成する漫画アカウントの名前を決定

---

## 🚀 承認後の初回テスト（3ステップ）

### ステップ1: 環境変数設定

```bash
# .envファイルに追加
DMM_API_ID=[申請承認後に取得]
DMM_AFFILIATE_ID=[申請承認後に取得]
```

### ステップ2: テスト（dry-run）

```bash
python automation/social_media/adult_twitter_generator.py video \
  --search AV \
  --count 3 \
  --dry-run
```

### ステップ3: 実際に投稿（1件）

```bash
python automation/social_media/adult_twitter_generator.py video \
  --content-id d_715045
```

---

## 📊 チェックリスト

### 申請承認まで

- [ ] Twitterアカウント設定完了
- [ ] Twitter API認証情報確認済み
- [ ] ライブラリインストール済み
- [ ] ディレクトリ準備済み
- [ ] 商品リスト作成済み
- [ ] ツイートテンプレート設計済み
- [ ] スケジュール設計済み

### 承認後

- [ ] DMM API認証情報設定
- [ ] 接続テスト成功
- [ ] テスト投稿成功
- [ ] 本格運用開始

---

**詳細は以下を参照**:
- `docs/DMM_API_MULTIPLE_ACCOUNTS.md`: APIの複数アカウント運用について
- `docs/VIDEO_TWEET_WORKFLOW.md`: ツイートフローの詳細
- `docs/PREPARATION_CHECKLIST.md`: 準備チェックリスト

---

**作成日**: 2025-01-30
