# Zapierアクション設定ガイド（X (Twitter) 投稿）

## 📋 現在の状態

✅ **トリガー:** "ZapierによるWebhook" - "キャッチフック" (Catch Hook) - **設定完了**
⏳ **アクション:** "アクション" - **まだ設定が必要**

---

## ⚠️ 重要

**キャッチフックだけでは、ツイート投稿は行われません。**

アクション（X (Twitter) への投稿）を設定してから公開してください。

---

## 🚀 次のステップ

### Step 1: アクションを追加

1. **「2. Zapを実行するイベントを選択します」** のボックスをクリック

2. **検索ボックスに「Twitter」または「X」と入力**

3. **「X (Twitter)」を選択**
   - オレンジ色のアイコン
   - 「X (Twitter)」をクリック

### Step 2: アクションイベントを選択

1. **「Create Tweet」を選択**
   - 「Create Tweet」をクリック
   - 「Continue」をクリック

### Step 3: X (Twitter)アカウントを接続

1. **「Sign in to X (Twitter)」をクリック**

2. **X (Twitter)アカウントでログイン**
   - ブラウザが開きます
   - X (Twitter)の認証画面が表示されます

3. **認証を許可**
   - 「Authorize app」をクリック

4. **「Continue」をクリック**

✅ **完了:** X (Twitter)アカウント接続

### Step 4: ツイート内容を設定

1. **「Tweet」フィールドをクリック**

2. **「Insert Data」をクリック**
   - または、直接 `{{1__tweet_text}}` と入力

3. **Webhookから送信されるデータを選択**
   - 「1. Catch Hook」をクリック
   - 表示されるフィールドから `tweet_text` を選択
   - または、直接 `{{1__tweet_text}}` と入力

4. **「Continue」をクリック**

✅ **完了:** アクションの設定

### Step 5: テスト実行

1. **「Test step」をクリック**
   - テストツイートが投稿されます（本番環境では投稿されません）

2. **テスト結果を確認**
   - 「Success!」と表示されればOK

3. **「Continue」をクリック**

✅ **完了:** テスト実行

### Step 6: Zapを公開

1. **「公開」ボタンをクリック**
   - 画面右上の「公開」ボタン

2. **Zap名を設定**（オプション）
   - 例: 「承認済みツイート自動投稿」

3. **「Publish」をクリック**

✅ **完了:** Zapの公開

---

## 📊 設定確認チェックリスト

### 必須項目

- [ ] **Step 1:** アクションを追加（X (Twitter) を選択）
- [ ] **Step 2:** アクションイベントを選択（Create Tweet）
- [ ] **Step 3:** X (Twitter)アカウントを接続
- [ ] **Step 4:** ツイート内容を設定（`{{1__tweet_text}}`）
- [ ] **Step 5:** テスト実行
- [ ] **Step 6:** Zapを公開

---

## ⚠️ 注意点

### 1. アクションは必須

- **キャッチフックだけでは、ツイート投稿は行われません**
- **アクション（X (Twitter) Create Tweet）を設定する必要があります**

### 2. 公開前のテスト

- **必ず「Test step」を実行して、動作確認をしてください**
- **テスト実行で問題がなければ、公開してください**

### 3. ツイート文案の設定

- **`{{1__tweet_text}}` を設定してください**
- **これで、Webhookから送信される `tweet_text` フィールドが使用されます**

---

## 🧪 テスト実行方法

### Zapierでテスト

1. **「Test step」をクリック**
2. **テストツイートが投稿されることを確認**
3. **X (Twitter)でテストツイートを確認**

### スプレッドシートでテスト

1. **スプレッドシートを開く**
2. **2行目（B2）に「承認済み」と入力**
3. **Enterを押す**
4. **X (Twitter)でツイートを確認**

---

## 🆘 トラブルシューティング

### エラー: "ツイートが投稿されない"

**解決方法:**
1. Zapierの実行履歴を確認
2. X (Twitter)アカウントの接続を再確認
3. 「Test step」を実行して再テスト

### エラー: "tweet_text が見つかりません"

**解決方法:**
1. 「Tweet」フィールドで `{{1__tweet_text}}` が正しく設定されているか確認
2. Webhookから送信されるデータ形式を確認

---

## 📚 参考ドキュメント

- `docs/ZAPIER_QUICK_START.md`: Zapier Webhookクイックスタート（5分で完了）
- `docs/ZAPIER_WEBHOOK_SETUP_GUIDE.md`: Zapier Webhookセットアップ詳細ガイド

---

## 🚀 次のステップ

1. **アクションを追加**（Step 1-4）
2. **テスト実行**（Step 5）
3. **Zapを公開**（Step 6）

詳細は `docs/ZAPIER_QUICK_START.md` を参照してください。

---

**結論: キャッチフックだけでは不十分です。アクション（X (Twitter) Create Tweet）を設定してから公開してください！**
