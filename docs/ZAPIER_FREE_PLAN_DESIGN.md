# Zapier無料プラン設計（月100タスク以内）

## 📋 概要

Zapierの無料プラン（月100タスクまで）で、Webhookを使用した自動ツイートシステムを設計します。

参考: [Zapier Webhook無料？0円自動化の裏技と注意点](https://blog-automation-lab.com/zapier-webhook-free/)

---

## ✅ Zapier無料プランでできること

### 利用可能な機能

- ✅ **Webhook by Zapier（Catch Hook）** - 利用可能
- ✅ **X (Twitter) Create Tweet** - 利用可能
- ✅ **月100タスクまで** - 無料で実行可能

### 制限事項

- ⚠️ **マルチステップのZap** - 制限あり
- ⚠️ **プレミアムアプリ** - 利用不可
- ⚠️ **実行回数** - 月100タスクまで

---

## 📊 タスク数の計算

### 1回の承認→投稿で消費するタスク数

1. **Webhook受信（Catch Hook）** - 1タスク
2. **X (Twitter) Create Tweet** - 1タスク
3. **合計: 2タスク/回**

### 月間タスク数の見積もり

#### パターン1: 毎日1回ツイート（推奨）

- **1日あたり:** 2タスク
- **30日間:** 60タスク/月
- **残り:** 40タスク（バッファ）

#### パターン2: 毎日2回ツイート

- **1日あたり:** 4タスク
- **30日間:** 120タスク/月
- **❌ 100タスクを超過**

#### パターン3: 週5日 × 1日1回ツイート

- **1日あたり:** 2タスク
- **1週間あたり:** 10タスク
- **4週間:** 40タスク/月
- **残り:** 60タスク（バッファ）

---

## 🎯 推奨設計（月60タスク以内）

### ワークフロー

1. **毎朝7:00** - ツイート案生成（Pythonスクリプト）
2. **LINE通知** - プレビュー送信
3. **スプレッドシート** - 「下書き」として記録
4. **承認** - スプレッドシートで「承認済み」に変更
5. **Zapier Webhook** - 即座にツイート投稿（2タスク）

### 月間タスク数の見積もり

- **毎日1回ツイート:** 30日 × 2タスク = 60タスク/月
- **残りバッファ:** 40タスク
- **予備ツイート:** 約20回（月2-3回の追加ツイートに対応可能）

---

## 🚀 実装手順

### Step 1: ZapierでWebhookを作成（無料プラン）

1. **Zapierにアクセス:** https://zapier.com/
2. **「Create Zap」をクリック**
3. **トリガー:** 「Webhooks by Zapier」→「Catch Hook」を選択
4. **Webhook URLをコピー**（重要！）

### Step 2: X (Twitter)アクションを追加

1. **アクション:** 「X (Twitter)」→「Create Tweet」を選択
2. **認証:** X (Twitter)アカウントで認証
3. **Tweet フィールド:** `{{1__tweet_text}}` を設定

### Step 3: Google Apps Scriptに設定

1. **スプレッドシートを開く**
2. **「拡張機能」→「Apps Script」を選択**
3. **`google_sheets_trigger.gs` を開く**
4. **`WEBHOOK_URL` を設定:**

```javascript
const CONFIG = {
  WEBHOOK_URL: 'https://hooks.zapier.com/hooks/catch/YOUR/WEBHOOK/ID',  // Step 1でコピーしたURL
  // ...
};
```

### Step 4: Zapを公開

1. **「Publish Zap」をクリック**
2. **Zap名を設定:** 「承認済みツイート自動投稿」
3. **「Publish」をクリック**

✅ **完了:** Zapierの設定

---

## 📊 タスク数監視

### Zapierダッシュボードで確認

1. **Zapierダッシュボードにアクセス**
2. **「Account」→「Usage」をクリック**
3. **月間タスク数を確認**

### 推奨: 月間タスク数の目安

- **50タスク以下:** 安全ゾーン（バッファ50タスク）
- **50-80タスク:** 注意ゾーン（バッファ20-50タスク）
- **80-100タスク:** 警告ゾーン（バッファ0-20タスク）
- **100タスク超過:** ❌ 有料プランが必要

---

## ⚠️ 注意点

### 1. タスク数の管理

- **毎日のツイート数を制限:** 推奨は1日1回まで
- **予備ツイートを考慮:** 月2-3回の追加ツイートに備える
- **月末にタスク数を使用しすぎないように注意**

### 2. エラー時のタスク消費

- **Webhookエラー** - タスクを消費する場合がある
- **X APIエラー** - タスクを消費する場合がある
- **エラーが多い場合は、定期実行スクリプトに切り替えを検討**

### 3. 無料プランの制限

- **マルチステップのZap** - 無料プランでは制限あり
- **プレミアムアプリ** - 利用不可
- **実行回数** - 月100タスクまで

---

## 💡 タスク数を節約する方法

### 方法1: 定期実行スクリプトと併用

- **通常:** 定期実行スクリプトで毎朝7:15に投稿
- **即時投稿が必要な場合のみ:** Zapier Webhookを使用
- **メリット:** タスク数を大幅に節約

### 方法2: ツイート頻度を調整

- **毎日1回:** 60タスク/月（推奨）
- **2日に1回:** 30タスク/月
- **週5日 × 1日1回:** 40タスク/月

### 方法3: 月間タスク数の監視

- **Zapierダッシュボードで定期的に確認**
- **月間タスク数が80を超えたら、定期実行スクリプトに切り替え**

---

## 📝 実装チェックリスト

### 必須項目

- [ ] **Step 1:** ZapierでWebhookを作成
- [ ] **Step 2:** X (Twitter)アクションを追加
- [ ] **Step 3:** Google Apps Scriptに設定
- [ ] **Step 4:** Zapを公開
- [ ] **テスト実行:** スプレッドシートで「承認済み」に変更してテスト

### 推奨項目

- [ ] **タスク数監視:** Zapierダッシュボードで月間タスク数を確認
- [ ] **定期実行スクリプト:** バックアップとして設定（オプション）

---

## 🚀 次のステップ

1. **ZapierでWebhookを作成**（Step 1-2）
2. **Google Apps Scriptに設定**（Step 3）
3. **テスト実行**（Step 4）
4. **タスク数監視**（推奨）

詳細は `docs/ZAPIER_QUICK_START.md` を参照してください。

---

**結論: Zapier無料プラン（月100タスク）で、毎日1回のツイート投稿が可能です！**
