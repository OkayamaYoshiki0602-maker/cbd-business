# ワークフロー・自動化手順

## Cursor開発フロー

### 1. 提案・承認フロー
```
1. ユーザーから要件を受領
2. @identity.md を参照
3. 提案作成（数値・図解付き）
4. ユーザー承認待ち
5. 承認後、実装開始
```

### 2. コード作成・管理フロー
```
1. ローカルで開発
2. 動作確認
3. GitHubへコミット（すべてのコードはGitHub管理）
   - コミットメッセージは日本語で明確に
   - 関連するissueやマイルストーンを参照
4. 必要に応じてREADMEやドキュメント更新
```

## 診断ツール開発フロー

### 初期設定
1. 診断ロジック案の選定
2. 質問項目・分岐ロジックの確定
3. 商品マッピング表の作成

### 実装
1. HTML/CSS/JavaScriptの統合コード作成
2. SWELLのカスタムHTMLブロックでテスト
3. レスポンシブ対応確認
4. アフィリエイトリンク統合

### デプロイ
1. GitHubリポジトリ作成（もしなければ）
2. コードをコミット
3. WordPressに反映

## 記事自動生成フロー

### データ準備
1. Googleスプレッドシートに以下を記入:
   ```
   列A: ターゲット
   列B: 悩み
   列C: 関連キーワード
   列D: SEOキーワード
   ```
2. スプレッドシートをMCP経由でアクセス可能にする

### 生成実行
1. Cursorでスプレッドシートデータを読み込み
2. @identity.md を参照し、データコンサル×お笑いのトーンで記事生成
3. Markdown形式で出力
4. 10本一括生成

### 投稿
1. 生成記事をレビュー
2. WordPressに投稿（必要に応じて自動化も検討）
3. SEO設定（メタディスクリプション、カテゴリ等）

## X自動投稿フロー

### 初期設定
1. X API（旧Twitter API）の認証情報取得
2. 投稿テンプレート作成（意外性×フック重視）

### 自動投稿ロジック
1. 新着記事公開を検知
2. 記事内容を分析
3. おもしろおかしいツイート文案を生成
4. 予約投稿または即時投稿

### 運用
- 1日1-2回の投稿を目安
- 診断ツールへの導線を含める
- エンゲージメントを分析して改善

## GitHub管理方針

### リポジトリ構成（推奨）
```
cbd-side-business/
├── diagnosis-tools/
│   ├── cbd-personal-diagnosis.html  # 統合HTML
│   └── README.md
├── automation/
│   ├── x-autopost/
│   │   ├── main.py
│   │   └── requirements.txt
│   └── article-generator/
│       ├── generate_articles.py
│       └── requirements.txt
├── wordpress-theme/
│   └── swell-child/  # SWELL子テーマ
└── docs/
    ├── diagnosis-logic.md
    └── api-setup.md
```

### コミットメッセージ規則
- 日本語で明確に
- 形式: `[種類] 簡潔な説明`
  - 例: `[診断ツール] ポーカー関連質問を追加`
  - 例: `[自動化] X投稿スクリプトの初期実装`

## MCP連携（Google Drive）

### 設定手順
1. CursorのMCP設定でGoogle Driveを有効化
2. スプレッドシートへのアクセス権限確認
3. テスト読み込み

### データ構造
- **診断ロジック用シート:** 質問・分岐・商品マッピング
- **記事ネタ用シート:** ターゲット・悩み・キーワード
- **分析用シート:** 成約データ、PV、CVR等（将来的に）
