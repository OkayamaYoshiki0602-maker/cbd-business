# 無料プランで複数アカウントを使う方法

## 📋 概要

無料プラン（月間100投稿）で、既存のアカウント（@yo_nandakanda）と新しいアカウント（@otonasan_review）を同じAPIで使う方法を説明します。

---

## 🔍 重要なポイント

### 無料プランの投稿制限

**開発者アカウント単位で制限が共有される可能性が高い**

- 月間100投稿の制限は、開発者アカウント全体で共有される可能性
- 複数のアプリ/アカウントで投稿しても、合計で100投稿/月まで

**あなたのケース:**
- 既存アカウント（@yo_nandakanda）: 既に使用中
- 新規アカウント（@otonasan_review）: 追加で使用予定
- **合計の投稿数が月間100を超えないように注意**

---

## 🎯 設定方法（2つのオプション）

### オプション1: 同じアプリで複数アカウントを使う（推奨）

**メリット:**
- ✅ 1つのアプリで管理が簡単
- ✅ コンシューマーキー/シークレットは共通
- ✅ アクセストークンだけを追加

**デメリット:**
- ⚠️ 投稿制限は共有される可能性が高い

---

### オプション2: 別のアプリを作成する

**メリット:**
- ✅ アプリごとに管理が明確
- ✅ 将来的に有料プランに移行する場合に分離しやすい

**デメリット:**
- ⚠️ 投稿制限は開発者アカウント単位で共有される可能性

---

## 📝 設定手順（オプション1: 同じアプリを使用）

### ステップ1: 新しいアクセストークンを生成

1. **X Developer Consoleにアクセス**
   - https://developer.x.com/
   - 既存の開発者アカウントでログイン

2. **既存のアプリを選択**
   - 「Dashboard」または「Projects & Apps」タブ
   - 既存のアプリ（@yo_nandakanda用）を選択

3. **新しいアクセストークンを生成**
   - 「Keys and tokens」タブ（または「設定」→「Keys and tokens」）
   - 「Access Token and Secret」セクション
   - 「Generate」ボタンをクリック
   - **@yo_nandakandaアカウントでログインしている場合は、一旦ログアウト**
   - **@otonasan_reviewアカウントでログインしてから「Generate」をクリック**
   - 新しいアクセストークンとシークレットをコピー

**注意**: 
- OAuth認証の流れで、新しいアカウント（@otonasan_review）を認証する必要があります
- コンシューマーキー/シークレットは同じものを使用します

---

### ステップ2: 環境変数に設定

**.envファイルに追加:**

```env
# 既存アカウント（@yo_nandakanda）用
X_API_KEY=...（既存のコンシューマーキー）
X_API_SECRET_KEY=...（既存のコンシューマーシークレット）
X_ACCESS_TOKEN=...（既存のアクセストークン）
X_ACCESS_TOKEN_SECRET=...（既存のアクセストークンシークレット）

# 新規アカウント（@otonasan_review）用
X_API_KEY_VIDEO=...（同じコンシューマーキー）
X_API_SECRET_KEY_VIDEO=...（同じコンシューマーシークレット）
X_ACCESS_TOKEN_VIDEO=...（新しく生成したアクセストークン）
X_ACCESS_TOKEN_SECRET_VIDEO=...（新しく生成したアクセストークンシークレット）
```

---

### ステップ3: コードで使い分け

**動画アカウント用の設定:**

```python
# automation/social_media/x_twitter_video.py を作成（例）

import os
from dotenv import load_dotenv

load_dotenv()

# 動画アカウント用の認証情報
X_API_KEY = os.getenv('X_API_KEY_VIDEO') or os.getenv('X_API_KEY')
X_API_SECRET_KEY = os.getenv('X_API_SECRET_KEY_VIDEO') or os.getenv('X_API_SECRET_KEY')
X_ACCESS_TOKEN = os.getenv('X_ACCESS_TOKEN_VIDEO')
X_ACCESS_TOKEN_SECRET = os.getenv('X_ACCESS_TOKEN_SECRET_VIDEO')
```

---

## 📝 設定手順（オプション2: 別のアプリを作成）

### ステップ1: 新しいアプリを作成

1. **X Developer Consoleにアクセス**
   - https://developer.x.com/
   - 既存の開発者アカウントでログイン

2. **新しいアプリを作成**
   - 「Projects & Apps」タブ
   - 「Create App」または「+ App」ボタンをクリック
   - アプリ名を入力（例: "otonasan_review_app"）
   - 作成を完了

3. **認証情報を取得**
   - 新しいアプリを選択
   - 「Keys and tokens」タブ
   - コンシューマーキー/シークレットをコピー
   - アクセストークン/シークレットを生成（@otonasan_reviewアカウントで認証）

---

### ステップ2: 環境変数に設定

**.envファイルに追加:**

```env
# 既存アカウント（@yo_nandakanda）用
X_API_KEY=...（既存のコンシューマーキー）
X_API_SECRET_KEY=...（既存のコンシューマーシークレット）
X_ACCESS_TOKEN=...（既存のアクセストークン）
X_ACCESS_TOKEN_SECRET=...（既存のアクセストークンシークレット）

# 新規アカウント（@otonasan_review）用（別アプリ）
X_API_KEY_VIDEO=...（新しいアプリのコンシューマーキー）
X_API_SECRET_KEY_VIDEO=...（新しいアプリのコンシューマーシークレット）
X_ACCESS_TOKEN_VIDEO=...（新しいアプリのアクセストークン）
X_ACCESS_TOKEN_SECRET_VIDEO=...（新しいアプリのアクセストークンシークレット）
```

---

## ⚠️ 重要な注意事項

### 1. 投稿制限の共有

**無料プラン（月間100投稿）の場合:**

- 開発者アカウント全体で100投稿/月を共有する可能性が高い
- 既存アカウント（@yo_nandakanda）+ 新規アカウント（@otonasan_review）の合計が100投稿/月まで

**運用計画:**
- 既存アカウント: 月間？投稿
- 新規アカウント: 月間約68投稿
- **合計が100を超えないように注意**

---

### 2. 投稿数の監視

**確認方法:**
1. X Developer Console → 「使用状況」タブ
2. 開発者アカウント全体の使用状況を確認
3. 月間投稿数を監視

**推奨:**
- 週1回、使用状況を確認
- 80投稿を超えたら注意
- 100投稿に達したら、その月は投稿を停止

---

### 3. 有料プランへの移行

**制限に達した場合:**
- 有料プラン（Basic: 月額 $100）に移行を検討
- 月間10,000投稿まで可能
- 両アカウントで十分に運用可能

---

## 🎯 推奨される設定

### オプション1を推奨（同じアプリを使用）

**理由:**
- ✅ 管理が簡単
- ✅ コンシューマーキー/シークレットが1セットで済む
- ✅ 無料プランの制限は共有されるため、アプリを分けても同じ

**手順:**
1. 既存のアプリを使用
2. 新しいアクセストークン/シークレットを生成（@otonasan_review用）
3. 環境変数に設定
4. コードで使い分け

---

## 📋 チェックリスト

### 設定前

- [ ] X Developer Consoleで既存のアプリを確認
- [ ] 現在の使用状況（月間投稿数）を確認
- [ ] 新規アカウント（@otonasan_review）でログインできることを確認

### 設定中

- [ ] 新しいアクセストークン/シークレットを生成
- [ ] 環境変数に設定
- [ ] 動作確認テスト

### 設定後

- [ ] 両アカウントでテスト投稿
- [ ] 使用状況を監視
- [ ] 月間投稿数を定期的に確認

---

## 🚀 次のステップ

1. **X Developer Consoleで既存のアプリを確認**
   - 既存のアプリ（@yo_nandakanda用）を選択
   - 「Keys and tokens」タブを確認

2. **新しいアクセストークンを生成**
   - @otonasan_reviewアカウントで認証
   - 新しいアクセストークン/シークレットを取得

3. **環境変数に設定**
   - `.env`ファイルに追加

4. **動作確認**
   - テスト投稿を実行

---

**作成日**: 2025-01-30
